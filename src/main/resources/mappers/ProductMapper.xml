<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fakenoonting.product">
    <resultMap id="productResultMap" type="com.fakenoonting.www.product.vo.ProductVO">
        <result column="id" property="id" />
        <result column="prod_name" property="productName" />
        <result column="price" property="price" />
        <result column="create_date" property="uploadDate" />
        <result column="useyn" property="productStatus" />
        <result column="modify_date" property="modifyDate" />
    </resultMap>

    <resultMap id="productImgItem" type="com.fakenoonting.www.product.vo.ProductImgItemVO">
        <result column="product_img_id" property="id" />
        <result column="org_img_name" property="orgImgName" />
        <result column="upload_path" property="uploadPath" />
        <result column="img_UUID" property="imgUUID" />
        <result column="img_size" property="imgSize" />
        <result column="create_date" property="createDate" />
    </resultMap>

    <insert id="saveProduct" parameterType="com.fakenoonting.www.product.vo.ProductVO">
        <![CDATA[
            insert into product
            (id,prod_name,price)
             Values (#{id},#{productName},#{price})
        ]]>
    </insert>


    <select id="findById" parameterType="com.fakenoonting.www.product.vo.ProductVO" resultMap="productResultMap">
        <![CDATA[
            select *
            from product
            where id = #{id}
        ]]>
    </select>



    <select id="findAll" resultMap="productResultMap">
        <![CDATA[
            select *
            from product
        ]]>
    </select>

    <select id="findImgsByProdId" resultMap="productImgItem" parameterType="com.fakenoonting.www.product.vo.ProductVO">
        <![CDATA[
            select *
            from product_img_item
            where product_id = #{id}
        ]]>
    </select>

</mapper>